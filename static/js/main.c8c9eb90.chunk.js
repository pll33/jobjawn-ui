(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(67)},29:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(21),s=n.n(l),c=(n(29),n(10)),o=n(3),r=n(4),u=n(7),h=n(5),d=n(6),p=n(1),f=n(9),g=n.n(f),v=n(22),b=n.n(v),m=(n(48),n(23)),j=n.n(m);n(64);function O(e,t){var n=t.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n||0===e.length)return[];var a=new RegExp(n,"i");return e.filter(function(e){return a.test(e)})}function E(e){return e.trim().length>1}function y(e){return console.log(e),e}function k(e){return i.a.createElement("span",null,e)}var L=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onSuggestionsFetchRequested=function(t){var n=t.value,a=e.props.data;e.setState({suggestions:O(a,n)})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={suggestions:[]},e.onSuggestionsFetchRequested=e.onSuggestionsFetchRequested.bind(Object(p.a)(Object(p.a)(e))),e.onSuggestionsClearRequested=e.onSuggestionsClearRequested.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.suggestions,t={placeholder:"Look up company or job title..",value:this.props.value,onChange:this.props.onInputChange};return i.a.createElement(j.a,{suggestions:e,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,shouldRenderSuggestions:E,getSuggestionValue:y,renderSuggestion:k,inputProps:t})}}]),t}(a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"tag tag-filter"},i.a.createElement("input",{type:"checkbox",onChange:this.props.handleCheckboxChange,name:this.props.label,checked:this.props.checked}),i.a.createElement("label",null,this.props.label),i.a.createElement("i",{className:"fa fa-plus"}),i.a.createElement("i",{className:"fa fa-check"}))}}]),t}(a.Component),S=(n(65),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"tag tag-plain"},i.a.createElement("label",null,this.props.label))}}]),t}(a.Component)),F=(n(66),"https://cors-anywhere.herokuapp.com/");function w(e,t){return""!==e[t]&&!1!==e[t]}function x(e){return g.a.get("".concat(F).concat(e))}var R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:{disciplines:[],levels:[],locations:[],companies:[],autosuggest:[],jobs:[]},search:"",activeDisciplines:0,activeLevels:0,activeLocations:0,filters:{disciplines:[],levels:[],locations:[]}},n.handleFilterDiscipline=n.handleFilterDiscipline.bind(Object(p.a)(Object(p.a)(n))),n.handleFilterLevel=n.handleFilterLevel.bind(Object(p.a)(Object(p.a)(n))),n.handleFilterLocation=n.handleFilterLocation.bind(Object(p.a)(Object(p.a)(n))),n.onSearchInputChange=n.onSearchInputChange.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(F,"https://github.com/jobjawn/dataDump/raw/master/jobjawn.json")).then(function(t){e.setState(function(e){var n=t.data,a=n.disciplines,i=n.levels,l=Array(a.length).fill(!1),s=Array(i.length).fill(!1);return{data:Object(c.a)({},e.data,{disciplines:a,levels:i}),filters:Object(c.a)({},e.filters,{disciplines:l,levels:s})}})}).catch(function(e){console.log(e)}),g.a.get("https://api.github.com/repos/jobjawn/datadump/contents/data",{headers:{Accept:"application/vnd.github.v3+json","X-Requested-With":"XMLHttpRequest"}}).then(function(t){console.log(t);var n=t.data.map(function(e){return e.download_url}),a=[x(n[0]),x(n[1]),x(n[2])];g.a.all(a).then(function(t){if(t.length>0){var n=0,a=t.reduce(function(e,t,a){var i=function(e,t){if(e.jobs.listings&&e.jobs.listings.length>0){var n=e.company,a=[n.name];-1===t.indexOf(n.location)&&t.push(n.location);var i=e.jobs.listings.map(function(e){return e.company=n.name,e.company_url=n.url,e.location=n.location,a.push(e.title),e});return{locations:t,company:n,autosuggestions:a,jobs:i}}console.log('Skipped job listings for "'.concat(e.company.name,'", no jobs found.'))}("object"===typeof t.data?t.data:b.a.parse(t.data),e.locations);return i&&(e.locations=i.locations,e.companies.push(i.company),e.autosuggest=e.autosuggest.concat(i.autosuggestions),e.jobs=e.jobs.concat(i.jobs)),n++,e},{locations:[],companies:[],autosuggest:[],jobs:[]});n===t.length&&e.initFilterLocations(a.locations),e.setState(function(e){return{data:Object(c.a)({},e.data,a)}})}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"initFilterLocations",value:function(e){var t=Array(e.length).fill(!1);this.setState(function(e){return{filters:Object(c.a)({},e.filters,{locations:t})}})}},{key:"handleFilterDiscipline",value:function(e,t){this.setState(function(t){var n=t.filters.disciplines[e],a=t.data.disciplines[e],i=t.activeDisciplines;return""===n||!1===n?(t.filters.disciplines[e]=a,i++):(t.filters.disciplines[e]="",i--),{filters:t.filters,activeDisciplines:i}})}},{key:"handleFilterLevel",value:function(e,t){this.setState(function(t){var n=t.filters.levels[e],a=t.data.levels[e],i=t.activeLevels;return""===n||!1===n?(t.filters.levels[e]=a,i++):(t.filters.levels[e]="",i--),{filters:t.filters,activeLevels:i}})}},{key:"handleFilterLocation",value:function(e,t){this.setState(function(t){var n=t.filters.locations[e],a=t.data.locations[e],i=t.activeLocations;return""===n||!1===n?(t.filters.locations[e]=a,i++):(t.filters.locations[e]="",i--),{filters:t.filters,activeLocations:i}})}},{key:"onSearchInputChange",value:function(e,t){var n=t.newValue;t.method;this.setState({search:n})}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.state.filters,a=this.state.activeDisciplines>0||this.state.activeLevels>0||this.state.activeLocations>0,l=""===this.state.search?t.jobs:t.jobs.filter(function(t){var n=e.state.search.toLowerCase();return t.title.toLowerCase().indexOf(n)>-1||t.company.toLowerCase().indexOf(n)>-1});return l=a?l.filter(function(t){var a=0===e.state.activeDisciplines||e.state.activeDisciplines>0&&n.disciplines.indexOf(t.discipline)>-1,i=0===e.state.activeLevels||e.state.activeLevels>0&&n.levels.indexOf(t.level)>-1,l=0===e.state.activeLocations||e.state.activeLocations>0&&n.locations.indexOf(t.location)>-1;return console.log(t,a,i,l),a&&i&&l}):l,i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"JobJawn"),i.a.createElement("h2",null,"Search"),i.a.createElement(L,{value:this.state.search,onInputChange:this.onSearchInputChange,data:t.autosuggest}),i.a.createElement("h2",null,"Filters"),i.a.createElement("h3",null,"Discipline"),t.disciplines&&i.a.createElement("div",{className:"filter filter-disciplines"},t.disciplines.length>0&&n.disciplines.length>0&&t.disciplines.map(function(t,a){return i.a.createElement(C,{label:t,checked:w(n.disciplines,a),handleCheckboxChange:function(t){return e.handleFilterDiscipline(a,t)},key:t})})),i.a.createElement("h3",null,"Experience Level"),t.levels&&i.a.createElement("div",{className:"filter filter-levels"},t.levels.length>0&&n.levels.length>0&&t.levels.map(function(t,a){return i.a.createElement(C,{label:t,checked:w(n.levels,a),handleCheckboxChange:function(t){return e.handleFilterLevel(a,t)},key:t})})),i.a.createElement("h3",null,"Location"),t.locations&&i.a.createElement("div",{className:"filter filter-locations"},t.locations.length>0&&n.locations.length>0&&t.locations.map(function(t,a){return i.a.createElement(C,{label:t,checked:w(n.locations,a),handleCheckboxChange:function(t){return e.handleFilterLocation(a,t)},key:t})})),i.a.createElement("h2",null,"Listing"),l.length>0&&l.map(function(e,t){return i.a.createElement("div",{className:"card-job",key:t},i.a.createElement("a",{href:e.url},i.a.createElement("h3",null,e.title)),i.a.createElement("div",null,i.a.createElement("a",{href:e.company_url},e.company)," (",e.location,")"),i.a.createElement(S,{label:e.discipline}),i.a.createElement(S,{label:e.level}),i.a.createElement("div",null,"Found on ",e.found))}),0===l.length&&a&&i.a.createElement("div",null,"No jobs found that match the filter criteria."),0===l.length&&!a&&i.a.createElement("div",null,"No jobs found."))}}]),t}(a.Component);s.a.render(i.a.createElement(R,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c8c9eb90.chunk.js.map