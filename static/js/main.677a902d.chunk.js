(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(64)},28:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(19),s=n.n(l),c=(n(28),n(10)),o=n(3),r=n(4),u=n(7),h=n(5),d=n(6),p=n(1),f=n(9),m=n.n(f),g=n(20),v=n.n(g),b=n(21),j=n.n(b);n(61);function E(e,t){var n=t.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n||0===e.length)return[];var a=new RegExp(n,"i");return e.filter(function(e){return a.test(e)})}function O(e){return e.trim().length>1}function y(e){return console.log(e),e}function k(e){return i.a.createElement("span",null,e)}var C=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onSuggestionsFetchRequested=function(t){var n=t.value,a=e.props.data;e.setState({suggestions:E(a,n)})},e.onSuggestionsClearRequested=function(){e.setState({suggestions:[]})},e.state={suggestions:[]},e.onSuggestionsFetchRequested=e.onSuggestionsFetchRequested.bind(Object(p.a)(Object(p.a)(e))),e.onSuggestionsClearRequested=e.onSuggestionsClearRequested.bind(Object(p.a)(Object(p.a)(e))),e}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.suggestions,t={placeholder:"Look up company or job title..",value:this.props.value,onChange:this.props.onInputChange};return i.a.createElement(j.a,{suggestions:e,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,shouldRenderSuggestions:O,getSuggestionValue:y,renderSuggestion:k,inputProps:t})}}]),t}(a.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"tag tag-filter"},i.a.createElement("input",{type:"checkbox",onChange:this.props.handleCheckboxChange,name:this.props.label,checked:this.props.checked}),i.a.createElement("label",null,this.props.label),i.a.createElement("i",{className:"fa fa-plus"}),i.a.createElement("i",{className:"fa fa-check"}))}}]),t}(a.Component),N=(n(62),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"tag tag-plain"},i.a.createElement("label",null,this.props.label))}}]),t}(a.Component)),S=(n(63),"https://cors-anywhere.herokuapp.com/");function F(e,t){return""!==e[t]&&!1!==e[t]}var w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:{disciplines:[],levels:[],locations:[],companies:[],autosuggest:[],jobs:[]},search:"",activeDisciplines:0,activeLevels:0,activeLocations:0,filters:{disciplines:[],levels:[],locations:[]}},n.handleFilterDiscipline=n.handleFilterDiscipline.bind(Object(p.a)(Object(p.a)(n))),n.handleFilterLevel=n.handleFilterLevel.bind(Object(p.a)(Object(p.a)(n))),n.handleFilterLocation=n.handleFilterLocation.bind(Object(p.a)(Object(p.a)(n))),n.onSearchInputChange=n.onSearchInputChange.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("".concat(S,"https://github.com/jobjawn/dataDump/raw/master/jobjawn.json")).then(function(t){e.setState(function(e){var n=t.data,a=n.disciplines,i=n.levels,l=Array(a.length).fill(!1),s=Array(i.length).fill(!1);return{data:Object(c.a)({},e.data,{disciplines:a,levels:i}),filters:Object(c.a)({},e.filters,{disciplines:l,levels:s})}})}).catch(function(e){console.log(e)}),m.a.get("https://api.github.com/repos/jobjawn/datadump/contents/data",{headers:{Accept:"application/vnd.github.v3+json","X-Requested-With":"XMLHttpRequest"}}).then(function(t){var n=t.data.filter(function(e){return"json"===e.name.substr(-4)}).map(function(e){return e.download_url}).map(function(e){return function(e){return m.a.get("".concat(S).concat(e))}(e)});m.a.all(n).then(function(t){if(t.length>0){var n=0,a=t.reduce(function(e,t,a){var i=function(e,t){if(e.jobs.listings&&e.jobs.listings.length>0){var n=e.company,a=[n.name];if(-1===t.indexOf(n.location)&&n.location)t.push(n.location);else if(!n.location)return void console.log('WARNING: No location found for "'.concat(n.name,'"'));var i=e.jobs.listings.map(function(e){return e.company=n.name,e.company_url=n.url,e.location=n.location,a.push(e.title),e});return{locations:t,company:n,autosuggestions:a,jobs:i}}console.log('No jobs found: Skipped job listings for "'.concat(e.company.name,'"'))}("object"===typeof t.data?t.data:v.a.parse(t.data),e.locations);return i&&(e.locations=i.locations,e.companies.push(i.company),e.autosuggest=e.autosuggest.concat(i.autosuggestions),e.jobs=e.jobs.concat(i.jobs)),n++,e},{locations:[],companies:[],autosuggest:[],jobs:[]});a.locations.sort(function(e,t){return e.localeCompare(t)}),n===t.length&&e.initFilterLocations(a.locations),e.setState(function(e){return{data:Object(c.a)({},e.data,a)}})}}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}},{key:"initFilterLocations",value:function(e){var t=Array(e.length).fill(!1);this.setState(function(e){return{filters:Object(c.a)({},e.filters,{locations:t})}})}},{key:"handleFilterDiscipline",value:function(e,t){this.setState(function(t){var n=t.filters.disciplines[e],a=t.data.disciplines[e],i=t.activeDisciplines;return""===n||!1===n?(t.filters.disciplines[e]=a,i++):(t.filters.disciplines[e]="",i--),{filters:t.filters,activeDisciplines:i}})}},{key:"handleFilterLevel",value:function(e,t){this.setState(function(t){var n=t.filters.levels[e],a=t.data.levels[e],i=t.activeLevels;return""===n||!1===n?(t.filters.levels[e]=a,i++):(t.filters.levels[e]="",i--),{filters:t.filters,activeLevels:i}})}},{key:"handleFilterLocation",value:function(e,t){this.setState(function(t){var n=t.filters.locations[e],a=t.data.locations[e],i=t.activeLocations;return""===n||!1===n?(t.filters.locations[e]=a,i++):(t.filters.locations[e]="",i--),{filters:t.filters,activeLocations:i}})}},{key:"onSearchInputChange",value:function(e,t){var n=t.newValue;t.method;this.setState({search:n})}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.state.filters,a=this.state.activeDisciplines>0||this.state.activeLevels>0||this.state.activeLocations>0,l=""===this.state.search?t.jobs:t.jobs.filter(function(t){var n=e.state.search.toLowerCase();return t.title.toLowerCase().indexOf(n)>-1||t.company.toLowerCase().indexOf(n)>-1});return l=a?l.filter(function(t){var a=0===e.state.activeDisciplines||e.state.activeDisciplines>0&&n.disciplines.indexOf(t.discipline)>-1,i=0===e.state.activeLevels||e.state.activeLevels>0&&n.levels.indexOf(t.level)>-1,l=0===e.state.activeLocations||e.state.activeLocations>0&&n.locations.indexOf(t.location)>-1;return a&&i&&l}):l,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("h1",null,"JobJawn"),i.a.createElement("h3",null,"Search"),i.a.createElement("div",{className:"search mb-2"},i.a.createElement(C,{value:this.state.search,onInputChange:this.onSearchInputChange,data:t.autosuggest})),i.a.createElement("h3",null,"Filters"),i.a.createElement("div",{className:"filters"},i.a.createElement("h4",null,"Discipline"),t.disciplines&&i.a.createElement("div",{className:"filter filter-disciplines"},t.disciplines.length>0&&n.disciplines.length>0&&t.disciplines.map(function(t,a){return i.a.createElement(L,{label:t,checked:F(n.disciplines,a),handleCheckboxChange:function(t){return e.handleFilterDiscipline(a,t)},key:"dis".concat(a)})})),i.a.createElement("h4",null,"Experience Level"),t.levels&&i.a.createElement("div",{className:"filter filter-levels"},t.levels.length>0&&n.levels.length>0&&t.levels.map(function(t,a){return i.a.createElement(L,{label:t,checked:F(n.levels,a),handleCheckboxChange:function(t){return e.handleFilterLevel(a,t)},key:"lvl".concat(a)})})),i.a.createElement("h4",null,"Location"),t.locations&&i.a.createElement("div",{className:"filter filter-locations"},t.locations.length>0&&n.locations.length>0&&t.locations.map(function(t,a){return i.a.createElement(L,{label:t,checked:F(n.locations,a),handleCheckboxChange:function(t){return e.handleFilterLocation(a,t)},key:"loc".concat(a)})}))),i.a.createElement("h2",null,"Listing"),i.a.createElement("div",{className:"job-listing"},l.length>0&&l.map(function(e,t){return i.a.createElement("div",{className:"card card-job mb-2",key:t},i.a.createElement("div",{className:"card-body"},i.a.createElement("p",{className:"mb-1 text-muted"},i.a.createElement("small",null,"Found on ",e.found)),i.a.createElement("h5",{className:"card-title"},e.title),i.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.company," (",e.location,")"),i.a.createElement("div",{className:"mb-2"},i.a.createElement("a",{href:e.url,className:"card-link"},"Apply"),i.a.createElement("a",{href:e.company_url,className:"card-link"},"Company Website")),i.a.createElement("div",{className:"card-tags mb-0"},i.a.createElement(N,{label:e.discipline}),i.a.createElement(N,{label:e.level}))))}),0===l.length&&a&&i.a.createElement("div",null,"No jobs found that match the filter criteria."),0===l.length&&!a&&i.a.createElement("div",null,"No jobs found."))))))}}]),t}(a.Component);s.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.677a902d.chunk.js.map